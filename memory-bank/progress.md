# progress.md

## 現状動作するもの
- コア関数の型アノテーション付与・CLI分離・ライブラリ化が完了し、外部importも可能
- mypyによる型チェック導入・型エラーなし
- テスト・CI/CD・パッケージ構成整理済み、全テストパス
- CLI/サブプロセス/ライブラリ両対応の設計
- シートインデックス指定（*N記法）、名前付きセル取得、テーブル・範囲抽出、空行スキップ仕様を実装
- ドキュメント・サンプル・README拡充
- .gitignoreやCI設定の追加・修正
- Jinja2テンプレートによる自由テキスト出力機能の要件・YAML定義案を策定
- 出力フォーマット指定を設定ファイル（output.format）のみに一本化（--formatオプション廃止）

## 残作業
- Jinja2テンプレート出力機能の実装方針整理・設計・実装
- テスト・ドキュメントの拡充

## 現在のステータス
- 型安全・拡張性・一貫性を重視した設計が安定稼働中
- 開発・配布・CI/CDの一貫性が確保されている
- Jinja2テンプレート出力機能の設計フェーズ
- CLIインターフェースを簡素化（--formatオプション廃止）し、設定が一貫したものになった

## 既知の課題
- Jinja2テンプレート出力機能のCLI・内部設計・テスト方針の具体化が必要
- テンプレート内で参照できる変数名やデータ構造の明確化が必要

## 出力フォーマット指定の方針
- 出力フォーマット（json/yaml/jinja2等）は設定ファイル（YAML）の`output.format`で指定する方針に完全移行しました。
- CLIの`--format`オプションは廃止し、すべての出力形式の指定を設定ファイルで一元管理します。
- この変更により、コマンドラインインターフェースがシンプルになり、設定の一貫性が向上しました。

## 決定の進捗
- Jinja2テンプレート出力機能の要件・YAML定義案を策定
- 既存設計との整合性を重視しつつ拡張方針を決定
- 出力フォーマット指定は設定ファイルのみに一本化することを決定・実装完了
